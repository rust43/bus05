{% load static %}
<div id="sidebar" class="col-12 col-sm-4 col-lg-3 sidebar d-flex flex-column">
  {% include 'header.html' %}
  <div id="heading" class="p-3">
    <h5 class="fw-light text-secondary mb-3">Общественный транспорт Махачкалы</h5>
  </div>
  <div id="content" class="d-flex flex-column overflow-auto mb-auto">
    <a class="btn btn-light rounded-0 w-100" onclick="SelectToolSidebar('busstop_tools');">
      <div class="d-flex align-items-center">
        <span class="text-bg-secondary fs-5 rounded"><i class="bi bi-signpost-fill m-2"></i></span>
        <span class="ms-3">Остановки</span>
        <span class="ms-auto text-secondary"><i class="bi-caret-right-fill"></i></span>
      </div>
    </a>
    <a class="btn btn-light rounded-0 w-100" onclick="">
      <div class="d-flex align-items-center">
        <span class="text-bg-success fs-5 rounded"><i class="bi bi-bus-front-fill m-2"></i></span>
        <span class="ms-3">Автобусы</span>
        <span class="ms-auto text-secondary"><i class="bi-caret-right-fill"></i></span>
      </div>
    </a>
    <a class="btn btn-light rounded-0 w-100" onclick="">
      <div class="d-flex align-items-center">
        <span class="text-bg-primary fs-5 rounded"><i class="bi bi-bus-front-fill m-2"></i></span>
        <span class="ms-3">Троллейбусы</span>
        <span class="ms-auto text-secondary"><i class="bi-caret-right-fill"></i></span>
      </div>
    </a>
    <a class="btn btn-light rounded-0 w-100" onclick="">
      <div class="d-flex align-items-center">
        <span class="text-bg-violet fs-5 rounded"><i class="bi bi-bus-front-fill m-2"></i></span>
        <span class="ms-3">Маршрутки</span>
        <span class="ms-auto text-secondary"><i class="bi-caret-right-fill"></i></span>
      </div>
    </a>
  </div>
  <div id="togglers">
    <a class="btn btn-light text-secondary rounded-0 w-100 align-items-center mb-3 d-none d-md-flex" onclick="mainSidebar.toggle();">
      <span class="fs-5 me-3"><i class="bi bi-arrow-bar-left"></i></span>
      <span>Скрыть</span>
    </a>
    <div class="sidebar-toggler" id="sidebar-toggler">
      <a class="btn bg-glass rounded-0 rounded-end text-secondary w-100 d-flex align-items-center" onclick="mainSidebar.toggle();">
        <span class="fs-5 me-3"><i class="bi bi-arrow-bar-right"></i></span>
        <span>Отобразить основную панель</span>
      </a>
    </div>
  </div>
</div>

<script>
  const mainSidebar = (function () {
    let visible = false;
    const elements = {
      sidebar: 'sidebar',
      toggler: 'sidebar-toggler'
    };
    return {
      interface(element) {
        return document.getElementById(element);
      },
      visible() {
        return visible;
      },
      hideToggler() {
        this.interface(elements.toggler).classList.toggle('sidebar-toggler-visible');
      },
      toggle() {
        this.interface(elements.sidebar).classList.toggle('sidebar-hidden');
        if (!additionalSidebar.visible()) {
          this.hideToggler();
        } else {
          additionalSidebar.hideToggler();
        }
        visible = !visible;
      }
    };
  })();
</script>
